<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link rel="stylesheet" href="/css/bootstrap.min2.css">
     <link rel="stylesheet" href="/css/styles.css">
    
    <title>Pizza Online</title>
</head>
<body>
    <div th:replace="fragments/header :: header"></div>
    <main>
		<div class="container-fluid">
	       <ol class="breadcrumb">
			  <li class="breadcrumb-item"><a th:href="@{/}">Home</a></li>
			  <li class="breadcrumb-item"><a th:href="@{/pizza}">Menu</a></li>
			  <li class="breadcrumb-item active" th:text="${pageTitle}"></li>
			</ol>
        </div>  
        <div class="container-fluid to_go">
            <h2 id="pageTitle" th:text="${pageTitle}">Page Title</h2>

        </div>
        <div class="container-fluid d-flex flex-wrap justify-content-around pizza_list">

            <div class="card mb-3" style="max-width: 540px;" th:each="pizza : ${listPizzas}">
                <div class="row g-0">
                    <div class="col-md-4">
                        <img src="/images/pizza.jpg" class="img-fluid rounded-start" alt="...">
                    </div>
                    <div class="col-md-8">
                        <div class="card-body">
                            <h5 class="card-title" th:text="${pizza.nom}"></h5>
                            <span class="petit">ingredients:</span>
                            <ul class="list-group ingredient"  th:each="ingredient : ${pizza.ingredients}">
                               
                                <li class="list-group-item ingredient" th:text="${ingredient.libelle}"></li>   
                            </ul>
                          
                            <span class="petit">Fromages:</span>
                            <ul class="list-group ingredient"  th:each="fromage : ${pizza.fromages}">
                               
                                <li class="list-group-item ingredient" th:text="${fromage.libelle}"></li>   
                            </ul>    
                            <div class="d-flex align-items-center quantity">
                                <button class="btn btn-outline-primary me-2" onclick="decrementQuantity(this)">-</button>
                                <input type="number" class="form-control text-center input-cart" name="quantity" value="0" readonly>
                                <button class="btn btn-outline-primary ms-2" onclick="incrementQuantity(this)">+</button>
                                <button class="btn btn-primary ms-auto" onclick="addToCart(this)"
                                    th:data-pizza-name="${pizza.nom}"
                                    th:data-pizza-ingredients="${#strings.arrayJoin(pizza.ingredients, ',')}"
                                   
                                    th:data-pizza-price="${pizza.prix}">Add to Cart</button>
                            </div>
            
                            <p class="mt-2"><strong th:text="${pizza.prix}"></strong> â‚¬</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
				
	</main>
   
   <div th:replace="fragments/footer :: footer"></div>
   <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js" integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r" crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js" integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>
<script src="/js/function.js"></script>
</body>
</html>